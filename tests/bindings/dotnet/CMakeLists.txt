# Build dotnet tests
set(DOTNET_TEST_TARGET TestDotNet)
set(DOTNET_TEST_SRC
	"TestDotnet.cs"
)
# project(${DOTNET_TEST_TARGET} csharp)
add_executable(${DOTNET_TEST_TARGET} ${DOTNET_TEST_SRC})
add_dependencies(${DOTNET_TEST_TARGET} ${SWIG_MODULE_${DOTNET_TARGET}_REAL_NAME} ${SERVER_TARGET})
set_target_properties(${DOTNET_TEST_TARGET} PROPERTIES VS_DOTNET_REFERENCE_System ON) 

# target_include_directories(${DOTNET_TEST_TARGET} PUBLIC ${ZST_INCLUDES})
# target_link_libraries(${DOTNET_TEST_TARGET} ${DOTNET_TARGET})
target_sources(${DOTNET_TEST_TARGET} PUBLIC ${DOTNET_GENERATED_BINDINGS})

add_test(NAME ${DOTNET_TEST_TARGET} COMMAND ${DOTNET_TEST_TARGET} WORKING_DIRECTORY $<TARGET_FILE_DIR:${DOTNET_TEST_TARGET}>)
