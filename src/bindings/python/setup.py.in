# from distutils.core import setup, Extension
from setuptools import setup, find_packages, Extension
from setuptools.command.build_ext import build_ext as _build_ext

class build_ext(_build_ext):
	def initialize_options(self):
		_build_ext.initialize_options(self)
		self.swig = "${SWIG_EXECUTABLE}"

showtime_module = Extension('_showtime',
	sources=['${CMAKE_CURRENT_SOURCE_DIR}/showtime.i'],
	include_dirs=['${Showtime_INCLUDE_DIRS}'],
	swig_opts=['-c++', '-py3', '-I${Showtime_INCLUDE_DIRS}'])

print("${CMAKE_CURRENT_SOURCE_DIR}")

setup (cmdclass={'build_ext': build_ext},
	   #options={'build_ext':{'swig_opts':'-c++'}},
	   name = 'showtime',
       version = '${SHOWTIME_VERSION}',
       author      = "Byron  Mallett",
       description = """Python bindings for Showtime""",
       packages=find_packages(),
       ext_modules = [showtime_module]
       # py_modules = ["showtime"],
)